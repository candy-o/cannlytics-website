<!doctype html>
<html>
<!--
  Header | Cannlytics Website
  Created: 1/7/2021
  Updated: 6/27/2021
-->
{% load static %}

<!-- Banner offer -->
<!-- AB TEST: Phone number and email banner -->
{% include "cannlytics_website/components/banners/banner_data_science.html" with
  phone=general.phone
  phone_number=general.phone_number
%}

<!-- Theme Toggle -->
{% include "cannlytics_website/components/buttons/theme_toggle.html" %}

<!-- Header Template -->
<nav class="navbar navbar-expand-lg navbar-light justify-content-start p-3 px-md-4">
  <div class="container-fluid">

    <!-- Title -->
    <!-- AB TEST: Logo font -->
    <a 
      class="navbar-brand d-flex align-items-center me-2"
      href="{% url 'index' %}"
    >
      <img
        src="{% static 'cannlytics_website/images/logos/cannlytics_logo_with_text_light.png' %}"
        class="light-only"
        height="42px"
      >
      <img
        src="{% static 'cannlytics_website/images/logos/cannlytics_logo_with_text_dark.png' %}"
        class="dark-only"
        height="42px"
      >
    </a>

    <!-- Menu Toggle -->
    <button
      class="navbar-toggler me-4"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span data-feather="menu"></span>
    </button>

    <!-- Navigation Links -->
    <div
      id="navbarNavDropdown"
      class="collapse navbar-collapse justify-content-between"
    >
      <ul class="navbar-nav me-2">
        <li class="nav-item h6 mb-0">
          <a
            class="nav-link sliding-action {% if 'community' in request.path %}active{% endif %}"
            href="{% url 'community' %}"
          >
            Community
          </a>
        </li>
        <li class="nav-item h6 mb-0">
          <a
            class="nav-link sliding-action"
            href="https://docs.cannlytics.com"
          >
            Docs
          </a>
        </li>
        <li class="nav-item h6 mb-0">
          <a
            class="nav-link sliding-action {% if 'contact' in request.path %}active{% endif %}"
            href="{% url 'contact' %}"
          >
            Contact
          </a>
        </li>
        <!-- AB TEST: contact vs. help dropdown-->
        {% comment %} <li class="nav-item h6 mb-0 dropdown">
          <a
            class="nav-link sliding-action dropdown-toggle"
            href="#"
            id="navbarDropdownMenuLink"
            role="button"
            data-bs-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Help
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="{% url 'contact' %}">Contact</a>
            <a class="dropdown-item" href="{% url 'pricing' %}">Consulting</a>
          </div>
        </li> {% endcomment %}
      </ul>

      <!-- Right Navigation (Not signed in) -->
      <ul class="navbar-nav indicates-auth align-items-center me-3">
        {% comment %} {% include 'cannlytics_console/components/buttons/donate_button.html' %} {% endcomment %}
        <li class="nav-item h6 mb-0">
          <a
            class="nav-link app-action sliding-action text-nowrap me-2"
            data-bs-target="#login-dialog"
            data-bs-toggle="modal"
          >
            Sign in
          </a>
        </li>
        <li class="nav-item">
          <a
            type="button"
            class="btn btn-sm bg-gradient-green text-white text-nowrap"
            href="https://console.cannlytics.com/account/sign-up/"
          >
            Sign up
          </a>
        </li>
      </ul>

      <!-- Right navigation (Signed in) -->
      <ul class="navbar-nav requires-auth align-items-center me-3">
        {% comment %} {% include 'cannlytics_console/components/buttons/donate_button.html' %} {% endcomment %}
        <li class="nav-item h6 mb-0">
          <a
            class="nav-link sliding-action text-nowrap me-2"
            href="https://console.cannlytics.com"
          >
            Console
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link dropdown-toggle py-0" href="#" id="navbarUserMenu" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img id="user-photo" class="rounded-circle" style="max-width:60px; max-height:60px;" src="">
          </a>
          <ul class="dropdown-menu dropdown-menu-end shadow mx-2" aria-labelledby="navbarUserMenu">
            <div class="px-3 py-1"><!-- TODO: Make display name / email standout -->
              <h5 class="serif" id="user-name"></h5>
              <h6 class="serif" id="user-email"></h6>
            </div>
            <li><hr class="dropdown-divider"></li>
            <li><a class="serif dropdown-item" href="https://console.cannlytics.com/settings/account/">Your account</a></li>
            <li><a class="serif dropdown-item" href="https://console.cannlytics.com/settings/invite/">Invite user</a></li>
            <li><a class="serif dropdown-item" href="https://console.cannlytics.com/help/feedback/">Send feedback</a></li>
            <li><button class="serif dropdown-item" onClick="cannlytics.auth.signOut()">Sign Out</button></li>
          </ul>
        </li>
      </ul><!-- End of right navigation -->

    </div><!-- End of navigation links-->

  </div>
</nav><!-- End of header -->

</html>
