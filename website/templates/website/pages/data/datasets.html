<!doctype html>
<html>
<!--
  Market Datasets | Cannlytics Website
  Params:
    items (list)
-->
{% load static %}
<div class="container px-0 mt-3">
  <div class="row d-flex mb-4">
    {% for item in items %}
      <div class="col-10 col-md-6 col-lg-5 mb-4 mb-lg-5">
        <div
          class="card bg-transparent border-secondary rounded-3 h-100 shadow-hover"
          style="width:350px;"
        >
          {% comment %} {% if item.new %}
            <!-- New Ribbon -->
            <img
              src="{% static "website/images/decoration/new-and-exclusive-ribbon.svg" %}"
              class="position-absolute"
              style="transform: rotate(35deg) translateX(175px) translateY(-150px); z-index:999;"
              width="175px"
            >
          {% endif %} {% endcomment %}
            <a
              class="card-block stretched-link text-decoration-none"
              href="{% url 'dataset' dataset_id=item.id  %}"
            >
            <div class="card-body bg-transparent pa-3">
              <div class="d-flex justify-content-between">
                <div class="d-flex align-items-center">
                  <h5 class="fs-5 lh-md text-dark fw-bold serif mb-0">
                    {{ item.name }}
                  </h5>
                </div>
              </div>
              <div class="text-dark">
                <small class="serif">Published by {{ item.published_by }}</small>
              </div>
              <p class="text-dark fs-6 mt-3">
                  {{ item.description|truncatechars:165 }}
              </p>
              <h6 class="text-dark fw-bold serif mt-3 mb-2">
                Price
              </h6>
              <small class="serif text-dark">Business: {{ item.price_usd }}</small><br>
              <small class="serif text-dark">Students: {{ item.price_usd_students }}</small>
              {% comment %} <div class="d-flex flex-column justify-content-start align-items-start">
                <span
                  id="price-usd-{{ item.id }}"
                  class="fs-6 d-flex mt-1 ps-2 badge bg-gradient-purple text-white"
                >
                  <small class="serif">Business: {{ item.price_usd }}</small>
                </span>
                <span
                  id="price-usd-student-{{ item.id }}"
                  class="fs-6 d-flex mt-1 badge bg-gradient-orange text-white"
                >
                  <small class="serif">Student: {{ item.price_usd_students }}</small>
                </span>
              </div> {% endcomment %}
            </div>

            <!-- Card footer -->
            <div class="card-footer pa-3 border-secondary bg-transparent d-flex justify-content-end align-items-center">
            
              <!-- Optional: Add Heart Button -->
            
              <!-- Details Button -->
              <a 
                class="btn btn-sm-light btn-md-light serif me-2"
                href="{% url 'dataset' dataset_id=item.id %}"
              >
                Details
              </a>

              <!-- TODO: Implement Buy Now Button -->
              <a
                class="btn btn-sm bg-gradient-green text-white serif"
                href="{% url 'dataset' dataset_id=item.id %}"
              >
                Buy Now
              </a>

              {% comment %}<!-- Optional: Implement Add to Cart Button -->{% endcomment %}
              
            </div>

          </a>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
</html>
