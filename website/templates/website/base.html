<!doctype html>
<html lang="en-US">
<!--
  Base Template | Cannlytics Website
  Created: 1/7/2021
  Updated: 11/22/2021
  TODO:
    - Determine which scripts should be loaded from CDN or locally.
    - Add a webmanifest.
-->
{% load static %}
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content="#281e52"/>
  <meta name="description" content="Superpower your lab with open-source cannabis analytics made with love.">
  <meta name="author" content="Keegan Skeate">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Title -->
  <title>{% block title %}{% endblock %}</title>

  <!-- Icons and Manifest -->
  <link rel="icon" href="{% static 'website/images/favicon/cannlytics-icon.ico' %}">
  <link rel="icon" type="image/png" href="{% static 'images/logos/favicon-32x32.png' %}" sizes="32x32">
  <link rel="icon" type="image/png" href="{% static 'images/logos/favicon-16x16.png' %}" sizes="16x16">
  <link rel="apple-touch-icon" href="{% static '/images/logos/apple-touch-icon.png' %}" sizes="180x180">
  <link rel="mask-icon" href="{% static '/images/logos/safari-pinned-tab.svg' %}" color="#e48632">
  <link rel="shortcut icon" href="{% static '/images/logos/favicon.ico' %}" type="image/x-icon">

  <!-- TODO: Add webmanifest -->
  {% comment %} <link rel="manifest" href="{% static 'manifest.webmanifest' %}"> {% endcomment %}

  <!-- PRODUCTION: CDN Bootstrap stylesheet | DEV: Local Bootstrap stylesheet-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  {% comment %} <link href="{% static 'website/css/bootstrap.min.css'%}" rel="stylesheet" type="text/css"> {% endcomment %}

  <!-- Cannlytics stylesheets -->
  <link href="{% static 'website/css/bundles/bundle.css'%}?{% now "U" %}" rel="stylesheet" type="text/css">

  <!-- Page-specific stylesheets -->
  {% block page_css %}{% endblock %}

  <!-- Optional: Migrate from jQuery to modern framework (Svelte?) -->
  <!-- PRODUCTION: CDN jQuery | DEV: Local jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  {% comment %} <script src="{% static 'website/js/jquery.slim.min.js'%}"></script> {% endcomment %}

  <!-- Cannlytics module -->
  <script src="{% static 'website/js/bundles/bundle.js' %}?{% now 'U' %}"></script>

</head>
<body class="base">

  <!-- Page -->
  <div id="page">
    {% block page %}{% endblock %}
  </div>

  <!-- Login dialog -->
  {% include "website/components/dialogs/login_dialog.html" %}

  <!-- Cookie notification -->
  {% include "website/components/dialogs/cookie_notification.html" %}

  <!-- PRODUCTION: CDN Bootstrap JavaScript | DEV: Local Bootstrap JavaScript-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
  {% comment %} <script src="{% static 'website/js/bootstrap.min.js'%}"></script> {% endcomment %}

  <!-- Feather Icons -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>

  <!-- Website JavaScript -->
  <script>
    cannlytics.website.initialize();
  </script>

  <!-- Notifications -->
  {% include "website/components/notifications/notification_toast.html" %}

  <!-- Page-specific JavaScript -->
  {% block page_js %}{% endblock page_js %}

</body>
</html>
